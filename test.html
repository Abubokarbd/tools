<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡¶®‡¶ø‡¶ñ‡ßÅ‡¶Å‡¶§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶ì ‡¶Ü‡¶á‡¶Ø‡¶º‡¶æ‡¶Æ‡ßá ‡¶¨‡ßÄ‡¶ú ‡¶â‡¶á‡¶ú‡ßá‡¶ü</title>
  <link href="https://fonts.maateen.me/solaiman-lipi/font.css" rel="stylesheet"/>
  <style>
    body {
      font-family: 'SolaimanLipi', sans-serif;
      margin: 0; padding: 0;
      background-color: transparent;
      text-align: center;
      color: #000000;
    }
    .widget-container {
      display: inline-block;
      padding: 15px;
    }
    #fullDate {
      font-size: 1.1em;
      font-weight: bold;
      display: block;
      line-height: 1.6em;
      margin-bottom: 8px;
    }
    .underline {
      height: 2px;
      background: linear-gradient(to right, transparent, #000000, transparent);
      width: 95%;
      margin: 0 auto;
      border-radius: 2px;
      opacity: 0.3;
    }
    .info-box {
      margin-top: 10px;
    }
    .ayyam-title {
      font-size: 1em;
      color: #333;
      display: block;
      font-weight: bold;
      margin-bottom: 3px;
    }
    .ayyam-dates {
      font-size: 1.1em;
      color: #000;
      display: block;
      font-weight: bold;
    }
    #linkIcon a {
      text-decoration: none;
      font-size: 0.9em;
      margin-left: 8px;
      opacity: 0.5;
    }
  </style>
</head>
<body>

  <div class="widget-container">
    <div id="fullDate">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
    
    <div class="underline"></div> 
    
    <div class="info-box">
      <span class="ayyam-title">‡¶Ü‡¶á‡¶Ø‡¶º‡¶æ‡¶Æ‡ßá ‡¶¨‡ßÄ‡¶ú‡ßá‡¶∞ ‡¶∞‡ßã‡¶ú‡¶æ:</span>
      <span id="ayyamDates" class="ayyam-dates">‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span>
    </div>
  </div>

  <script>
    const toBn = n => n.toString().replace(/\d/g, d => "‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ"[d]);
    const months = ['‡¶ú‡¶æ‡¶®‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø', '‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡¶Ø‡¶º‡¶æ‡¶∞‡¶ø', '‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö', '‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤', '‡¶Æ‡ßá', '‡¶ú‡ßÅ‡¶®', '‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á', '‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü', '‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞', '‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞', '‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞', '‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞'];

    // ‡¶ó‡¶æ‡¶£‡¶ø‡¶§‡¶ø‡¶ï ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞
    function calculateHijri(date, adj) {
      let jd = Math.floor(date.getTime() / 86400000) + 2440588 + adj;
      let l = jd - 1948440 + 10632;
      let n = Math.floor((l - 1) / 10631);
      l = l - 10631 * n + 354;
      let j = (Math.floor((10985 - l) / 5316)) * (Math.floor((50 * l) / 17719)) + (Math.floor(l / 5670)) * (Math.floor((43 * l) / 15238));
      l = l - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50)) - (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;
      let m = Math.floor((24 * l) / 709);
      let d = l - Math.floor((709 * m) / 24);
      let y = 30 * n + j - 30;
      return { day: d, month: m, year: y };
    }

    function getFullDate() {
      const now = new Date();
      const adjustment = -1; // ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶ú‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü

      // ‡ßß. ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ
      const days = ['‡¶∞‡¶¨‡¶ø‡¶¨‡¶æ‡¶∞', '‡¶∏‡ßã‡¶Æ‡¶¨‡¶æ‡¶∞', '‡¶Æ‡¶ô‡ßç‡¶ó‡¶≤‡¶¨‡¶æ‡¶∞', '‡¶¨‡ßÅ‡¶ß‡¶¨‡¶æ‡¶∞', '‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞', '‡¶∂‡ßÅ‡¶ï‡ßç‡¶∞‡¶¨‡¶æ‡¶∞', '‡¶∂‡¶®‡¶ø‡¶¨‡¶æ‡¶∞'];
      const currentMonthBn = months[now.getMonth()];
      const engStr = `${days[now.getDay()]}, ${toBn(now.getDate())} ${currentMonthBn} ${toBn(now.getFullYear())} ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶`;

      // ‡ß®. ‡¶¨‡¶ô‡ßç‡¶ó‡¶æ‡¶¨‡ßç‡¶¶ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶®‡¶ø‡ßü‡¶Æ)
      function getBongabdo(date) {
        let d = date.getDate(), m = date.getMonth() + 1, y = date.getFullYear();
        let bYear = (m < 4 || (m === 4 && d < 14)) ? y - 594 : y - 593;
        const config = [{n:'‡¶¨‡ßà‡¶∂‡¶æ‡¶ñ',s:'4-14'},{n:'‡¶ú‡ßç‡¶Ø‡ßà‡¶∑‡ßç‡¶†',s:'5-15'},{n:'‡¶Ü‡¶∑‡¶æ‡¶¢‡¶º',s:'6-15'},{n:'‡¶∂‡ßç‡¶∞‡¶æ‡¶¨‡¶£',s:'7-16'},{n:'‡¶≠‡¶æ‡¶¶‡ßç‡¶∞',s:'8-16'},{n:'‡¶Ü‡¶∂‡ßç‡¶¨‡¶ø‡¶®',s:'9-16'},{n:'‡¶ï‡¶æ‡¶∞‡ßç‡¶§‡¶ø‡¶ï',s:'10-16'},{n:'‡¶Ö‡¶ó‡ßç‡¶∞‡¶π‡¶æ‡¶Ø‡¶º‡¶£',s:'11-16'},{n:'‡¶™‡ßå‡¶∑',s:'12-16'},{n:'‡¶Æ‡¶æ‡¶ò',s:'1-15'},{n:'‡¶´‡¶æ‡¶≤‡ßç‡¶ó‡ßÅ‡¶®',s:'2-14'},{n:'‡¶ö‡ßà‡¶§‡ßç‡¶∞',s:'3-15'}];
        let i = (m === 4 && d >= 14) || m > 4 ? m - 4 : m + 8;
        let startDate = new Date(y, config[i].s.split('-')[0]-1, config[i].s.split('-')[1]);
        let diff = Math.floor((date - startDate) / 86400000);
        return `${toBn(diff + 1)} ${config[i].n} ${toBn(bYear)} ‡¶¨‡¶ô‡ßç‡¶ó‡¶æ‡¶¨‡ßç‡¶¶`;
      }

      // ‡ß©. ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ
      const hData = calculateHijri(now, adjustment);
      const hMonths = ["‡¶Æ‡ßÅ‡¶π‡¶æ‡¶∞‡¶∞‡¶Æ", "‡¶∏‡¶´‡¶∞", "‡¶∞‡¶¨‡¶ø‡¶â‡¶≤ ‡¶Ü‡¶â‡¶Ø‡¶º‡¶æ‡¶≤", "‡¶∞‡¶¨‡¶ø‡¶â‡¶∏ ‡¶∏‡¶æ‡¶®‡¶ø", "‡¶ú‡¶Æ‡¶æ‡¶¶‡¶ø‡¶â‡¶≤ ‡¶Ü‡¶â‡¶Ø‡¶º‡¶æ‡¶≤", "‡¶ú‡¶Æ‡¶æ‡¶¶‡¶ø‡¶â‡¶∏ ‡¶∏‡¶æ‡¶®‡¶ø", "‡¶∞‡¶ú‡¶¨", "‡¶∂‡¶æ‡¶¨‡¶æ‡¶®", "‡¶∞‡¶Æ‡¶ú‡¶æ‡¶®", "‡¶∂‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶≤", "‡¶ú‡¶ø‡¶≤‡¶ï‡ßç‡¶¨‡¶¶", "‡¶ú‡¶ø‡¶≤‡¶π‡¶ú‡ßç‡¶ú"];
      const hijriStr = `${toBn(hData.day)} ${hMonths[hData.month - 1]} ${toBn(hData.year)} ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø`;

      // ‡ß™. ‡¶Ü‡¶á‡¶Ø‡¶º‡¶æ‡¶Æ‡ßá ‡¶¨‡ßÄ‡¶ú‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶≤‡¶ú‡¶ø‡¶ï
      let ayyamList = [];
      // ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶Ü‡¶∂‡ßá‡¶™‡¶æ‡¶∂‡ßá ‡ß©‡ß¶ ‡¶¶‡¶ø‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡ßß‡ß©, ‡ßß‡ß™, ‡ßß‡ß´ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
      for (let i = -20; i < 25; i++) {
        let checkDate = new Date();
        checkDate.setDate(now.getDate() + i);
        let h = calculateHijri(checkDate, adjustment);
        
        // ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶π‡¶ø‡¶ú‡¶∞‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡ßß‡ß©, ‡ßß‡ß™, ‡ßß‡ß´ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡¶¨‡ßá
        if (h.month === hData.month && h.year === hData.year) {
          if (h.day === 13 || h.day === 14 || h.day === 15) {
            ayyamList.push({
              day: toBn(checkDate.getDate()),
              month: months[checkDate.getMonth()]
            });
          }
        }
      }

      // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡¶æ (‡¶Æ‡¶æ‡¶∏ ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶π‡¶≤‡ßá ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá)
      let finalAyyamText = "";
      if (ayyamList.length > 0) {
        let firstMonth = ayyamList[0].month;
        let lastMonth = ayyamList[ayyamList.length - 1].month;

        if (firstMonth === lastMonth) {
          // ‡¶Ø‡¶¶‡¶ø ‡¶∏‡¶¨ ‡¶è‡¶ï‡¶á ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶π‡ßü (‡¶Ø‡ßá‡¶Æ‡¶®: ‡ß©, ‡ß™, ‡ß´ ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö)
          let daysOnly = ayyamList.map(item => item.day).join(', ');
          finalAyyamText = `${daysOnly} ${firstMonth}`;
        } else {
          // ‡¶Ø‡¶¶‡¶ø ‡¶Æ‡¶æ‡¶∏ ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶π‡ßü (‡¶Ø‡ßá‡¶Æ‡¶®: ‡ß©‡ßß ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö, ‡ßß ‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤, ‡ß® ‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤)
          finalAyyamText = ayyamList.map(item => `${item.day} ${item.month}`).join(', ');
        }
      }

      // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¨‡¶∏‡¶æ‡¶®‡ßã
      const icon = `<span id="linkIcon"><a href="https://abubokar.blogspot.com/" target="_blank">üåê</a></span>`;
      document.getElementById('fullDate').innerHTML = `${hijriStr} | ${getBongabdo(now)} | ${engStr} ${icon}`;
      document.getElementById('ayyamDates').innerText = finalAyyamText;
    }

    getFullDate();
    // ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡ßß ‡¶ò‡¶£‡ßç‡¶ü‡¶æ‡ßü ‡¶â‡¶á‡¶ú‡ßá‡¶ü ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶π‡¶¨‡ßá
    setInterval(getFullDate, 3600000);
  </script>
</body>
</html>
